<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
   <h:head>
        
        <title>Comentarios</title>
        <link rel="stylesheet" href="css/bootstrap.min.css"/>
        <style type="text/css">
            .ui-dialog {
                width: auto !important;
                        }       
        </style>

    </h:head>
    <h:body>
                <ui:include src="/elementos/navbar.xhtml" />

                
                
<!-- CONTENIDO -->


<div class="container-fluid ">
<div class="row mt-3">
  <h:form id="frmNiveles">
          
      
    <h:commandButton value="Agregar un Nuevo Comentario" class="btn btn-outline-success" action="CRUD/InsertarComentario" /> 
          
    <p:dataTable class="table table-bordered" var="entry" value="#{group.comentarios.entrySet().toArray()}">
       
            <p:column headerText="Id Comentario">
                <h:outputText value="${entry.key}" />
            </p:column>
            
            <p:column headerText="Comentario" >
                <h:outputText value="${group.buscarComentario(entry.key)[1]}" />  
            </p:column>
        
        <p:column headerText="Proyecto" >
                <h:outputText value="${group.buscarComentario(entry.key)[2]}" />  
            </p:column>
        <p:column headerText="Calificacion" >
                <h:outputText value="${group.buscarComentario(entry.key)[3]}" />  
            </p:column>
        <p:column headerText="Estudiante" >
                <h:outputText value="${group.buscarComentario(entry.key)[4]}" />  
            </p:column>
        <p:column headerText="Correo Electronico" >
                <h:outputText value="${group.buscarComentario(entry.key)[5]}" />  
            </p:column>
       
        
          
        </p:dataTable>
       
        
      <!-- FORMULARIO -->
     
      
      
      <p:dialog header="Insertar Comentario" widgetVar="dlgComentario" showEffect="fade" hideEffect="explode" height="100">
    <h:outputText value="Correo:  " />
    <h:inputText id="txtCorreoEst" value="#{comentario.correo_estudiante}"></h:inputText>
    
    <br/>
    <br/>
    <h:outputText value="Nombre:  " />
    <h:inputText id="txtNOMBREEst" value="#{comentario.estudiante_comentario}"></h:inputText>
    <br/>
    <br/>
    <h:outputText value="Proyecto:  " />
    <h:selectOneMenu value="#{comentario.id_proyecto}" class="btn btn-outline-secondary dropdown-toggle">                     
        <f:selectItems value="#{group.hselectProyectos()}" ></f:selectItems>
                    </h:selectOneMenu> 
    
    
    <h:selectOneRadio id="rbtnNota" value="#{comentario.calificacion}">
   			<f:selectItem itemValue="1" itemLabel="Innovador" />
   			<f:selectItem itemValue="2" itemLabel="Academico" />
   			<f:selectItem itemValue="3" itemLabel="Basico" />
   		</h:selectOneRadio>
    
    
    <br/>
    <br/>
    <h:outputText value="Comentario:  " />
    
    <h:inputText id="txtNotaComentrioEst" value="#{comentario.nota_comentario}"></h:inputText>
     <br/> <br/>
    
     <h:commandButton value="Enviar" id="btnEnviarNivel" class="btn btn-primary btn-lg btn-block" action="#{comentariosInsertar.insertarComentario(comentario.nota_comentario, comentario.id_proyecto, comentario.calificacion, comentario.estudiante_comentario, comentario.correo_estudiante)}" >
      </h:commandButton>
    						           
</p:dialog>
          
          
      </h:form> 
      
      
      
      
         </div>
  </div>
<!-- CONTENIDO -->
                    
  
          <script src="js/popper.min.js" charset="utf-8"></script>       
       <script src="js/bootstrap.min.js" charset="utf-8"></script>

    </h:body>
</html>
